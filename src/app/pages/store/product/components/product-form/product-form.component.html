<form [formGroup]="productForm" (ngSubmit)="onSubmit()">
  <div class="col-md-12 mb-3">
    <h5>Nouveau produit</h5>
  </div>
  <div class="col-md-12">
    <div class="row">
      <div class="col-md-8">
        <nb-card>
          <nb-card-header>Informations générales</nb-card-header>
          <nb-card-body>
            <div class="form-group">
              <label for="name" class="label">Nom du produit</label>
              <input formControlName="name" required type="text" nbInput fullWidth id="name" placeholder="Nom">
              <p *ngIf="productForm.controls.name.invalid && (productForm.controls.name.dirty || productForm.controls.name.touched)"
                class="text-danger">Le nom du produit est obligatoire</p>
            </div>
            <div class="form-group">
              <label for="description" class="label">Description</label>
              <textarea formControlName="description" required type="text" nbInput fullWidth id="phoneNumber"
                placeholder="description"></textarea>
              <p *ngIf="productForm.controls.description.invalid && (productForm.controls.description.dirty || productForm.controls.description.touched)"
                class="text-danger">Le description du produit est obligatoire</p>
            </div>

          </nb-card-body>
        </nb-card>
        <nb-card>
          <nb-card-header>
            Photos
            <button type="button" class="float-right" (click)="image.click()" nbButton>Upload image</button>
            <input hidden (change)="getCoverIMage($event)" type="file" formControlName="coverImage"
              #image id="image">
          </nb-card-header>
          <nb-card-body>
            <div class="row">
              <div class="col-md-3">
                <img *ngIf="coverImageUrl" [src]="coverImageUrl" class="img-fluid" alt="">
              </div>
            </div>
            <p *ngIf="productForm.controls.coverImage.invalid" class="text-danger">L' image de couverture est
              obligatoire</p>
          </nb-card-body>
        </nb-card>
        <nb-card>
          <nb-card-header>Prix</nb-card-header>
          <nb-card-body>
            <div class="form-group">
              <label for="phoneNumber" class="label">Prix</label>
              <input formControlName="price" required type="number" nbInput fullWidth id="price" placeholder="Prix">
              <p *ngIf="productForm.controls.price.invalid && (productForm.controls.price.dirty || productForm.controls.price.touched)"
                class="text-danger">Le prix du produit est obligatoire</p>
            </div>
          </nb-card-body>
        </nb-card>
        <nb-card>
          <nb-card-header>Inventaire</nb-card-header>
          <nb-card-body>
            <div class="row">
              <div class="col-md">
                <div class="form-group">
                  <label for="SKU" class="label">Unité de gestion des stocks</label>
                  <input formControlName="SKU" required type="text" nbInput fullWidth id="SKU" placeholder="example Kg">
                  <!-- <p *ngIf="productForm.controls.phoneNumber.invalid && (productForm.controls.phoneNumber.dirty || productForm.controls.phoneNumber.touched)"
                                      class="text-danger">Le champ unité de gestion de stocks est obligatoire</p> -->
                </div>
              </div>
              <div class="col-md">
                <div class="form-group">
                  <label for="inventory" class="label">Iventaire</label>
                  <input formControlName="inventory" required type="number" nbInput fullWidth id="inventory"
                    placeholder="Iventaire">
                  <p *ngIf="productForm.controls.inventory.invalid && (productForm.controls.inventory.dirty || productForm.controls.inventory.touched)"
                    class="text-danger">Le champ inventaire est obligatoire</p>
                </div>
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </div>
      <div class="col-md-4">
        <nb-card>
          <nb-card-header>Organiser le produit</nb-card-header>
          <nb-card-body>
            <div class="form-group">
              <label for="phoneNumber" class="label">Categorie</label>
              <div class="row">
                <nb-select class="col-md" placeholder="Catetorie">
                  <nb-option value="">Option empty</nb-option>
                  <nb-option value="0">Categorie 0</nb-option>
                  <nb-option value="1">Categorie 1</nb-option>
                  <nb-option value="2">Categorie 2</nb-option>
                  <nb-option value="3">Categorie 3</nb-option>
                  <nb-option value="4">Categorie 4</nb-option>
                </nb-select>
                <!-- <p *ngIf="productForm.controls.phoneNumber.invalid && (productForm.controls.phoneNumber.dirty || productForm.controls.phoneNumber.touched)"
                                                          class="text-danger">Le téléphone E-mail est obligatoire</p> -->
              </div>
            </div>
          </nb-card-body>
        </nb-card>
      </div>
    </div>
  </div>

  <!-- button card -->
  <div class="col-md-12">
    <nb-card>
      <nb-card-body>
        <button type="button" *ngIf="edit" nbButton status="danger" (click)="deleteProduct()">Effacer</button>
        <div class="float-right">
          <button type="button" status="basic" class="mr-3" nbButton [routerLink]="['/' + sellerAccountId + '/store/' + companyId + '/product']">Annuler</button>
          <button [disabled]="productForm.invalid" nbButton type="submit">Sauvegarder</button>
        </div>
      </nb-card-body>
    </nb-card>
  </div>
  <!-- //button card -->
</form>